<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Avaliação de Riscos Psicossociais</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #f4f4f9; }
    select, button { padding: 8px; margin: 10px 0; }
    .questionario, #dashboard { display: none; margin-top: 20px; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ccc; }
    h2 { color: #333; }
    label { display: block; margin: 10px 0; }
  </style>
</head>
<body>
  <h1>Mapa de Riscos Psicossociais</h1>
  <p>Escolha a metodologia para avaliar o ambiente de trabalho:</p>
  <select id="metodologia" onchange="mostrarQuestionario()">
    <option value="">-- Selecione --</option>
    <option value="copsoq">COPSOQ III Short</option>
    <option value="hse">HSE Indicator Tool</option>
    <option value="niosh">NIOSH WellBQ</option>
    <option value="nr">NR-01 e NR-17</option>
  </select>

  <!-- Questionários -->
  <div id="copsoq" class="questionario">
    <h2>COPSOQ III Short</h2>
    <label>1. O trabalho é emocionalmente exigente? <select><option>Sim</option><option>Não</option><option>Parcial</option><option>N/A</option></select></label>
    <label>2. Você sente apoio dos colegas? <select><option>Sim</option><option>Não</option><option>Parcial</option><option>N/A</option></select></label>
  </div>

  <div id="hse" class="questionario">
    <h2>HSE Indicator Tool</h2>
    <label>1. Há clareza nas funções e responsabilidades? <select><option>Sim</option><option>Não</option><option>Parcial</option><option>N/A</option></select></label>
    <label>2. Você sofre pressão excessiva por prazos? <select><option>Sim</option><option>Não</option><option>Parcial</option><option>N/A</option></select></label>
  </div>

  <div id="niosh" class="questionario">
    <h2>NIOSH WellBQ</h2>
    <label>1. Você sente que o ambiente é saudável e seguro? <select><option>Sim</option><option>Não</option><option>Parcial</option><option>N/A</option></select></label>
    <label>2. Há equilíbrio entre trabalho e vida pessoal? <select><option>Sim</option><option>Não</option><option>Parcial</option><option>N/A</option></select></label>
  </div>

  <div id="nr" class="questionario">
    <h2>Checklist NR-01 e NR-17</h2>
    <label>1. O posto de trabalho se adapta ao trabalhador? <select><option>Sim</option><option>Não</option><option>Parcial</option><option>N/A</option></select></label>
    <label>2. A organização adota pausas e alternância de tarefas? <select><option>Sim</option><option>Não</option><option>Parcial</option><option>N/A</option></select></label>
  </div>

  <button onclick="mostrarDashboard()">Finalizar e Ver Dashboard</button>

  <div id="dashboard">
    <h2>Resultado</h2>
    <p>Avaliação concluída. Veja abaixo o resumo das respostas (exemplo visual):</p>
    <ul>
      <li>Respostas "Sim": <span id="resSim">0</span></li>
      <li>Respostas "Não": <span id="resNao">0</span></li>
      <li>Parcial: <span id="resParcial">0</span></li>
      <li>N/A: <span id="resNA">0</span></li>
    </ul>
  </div>

  <script>
    function mostrarQuestionario() {
      document.querySelectorAll('.questionario').forEach(div => div.style.display = 'none');
      const metodo = document.getElementById('metodologia').value;
      if (metodo) document.getElementById(metodo).style.display = 'block';
    }

    function mostrarDashboard() {
      const respostas = document.querySelectorAll('select');
      let sim = 0, nao = 0, parcial = 0, na = 0;
      respostas.forEach(sel => {
        const val = sel.value;
        if (val === 'Sim') sim++;
        else if (val === 'Não') nao++;
        else if (val === 'Parcial') parcial++;
        else if (val === 'N/A') na++;
      });
      document.getElementById('resSim').innerText = sim;
      document.getElementById('resNao').innerText = nao;
      document.getElementById('resParcial').innerText = parcial;
      document.getElementById('resNA').innerText = na;
      document.getElementById('dashboard').style.display = 'block';
    }
  </script>
</body>
</html>
