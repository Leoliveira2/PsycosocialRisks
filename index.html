<div id="nr" class="questionario card">
        <h2>üìã NR-01 e NR-17</h2>
        <div class="question-group">
          <label class="question-title">1. Seu posto de trabalho √© adequado √†s suas caracter√≠sticas f√≠sicas?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="nr_q1" value="Totalmente" onchange="updateProgress()">
              <span class="radio-text">Totalmente adequado</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q1" value="Muito" onchange="updateProgress()">
              <span class="radio-text">Muito adequado</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q1" value="Parcialmente" onchange="updateProgress()">
              <span class="radio-text">Parcialmente adequado</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q1" value="Pouco" onchange="updateProgress()">
              <span class="radio-text">Pouco adequado</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q1" value="Inadequado" onchange="updateProgress()">
              <span class="radio-text">Inadequado</span>
            </label>
          </div>
        </div>
        <div class="question-group">
          <label class="question-title">2. H√° pausas suficientes para recupera√ß√£o f√≠sica e mental?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="nr_q2" value="Sempre" onchange="updateProgress()">
              <span class="radio-text">Sempre suficientes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q2" value="Frequentemente" onchange="updateProgress()">
              <span class="radio-text">Frequentemente suficientes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q2" value="√Äs vezes" onchange="updateProgress()">
              <span class="radio-text">√Äs vezes suficientes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q2" value="Raramente" onchange="updateProgress()">
              <span class="radio-text">Raramente suficientes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q2" value="Nunca" onchange="updateProgress()">
              <span class="radio-text">Nunca suficientes</span>
            </label>
          </div>
        </div>
        <div class="question-group">
          <label class="question-title">3. Voc√™ recebe orienta√ß√µes claras sobre riscos ocupacionais?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="nr_q3" value="Sempre" onchange="updateProgress()">
              <span class="radio-text">Sempre</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q3" value="Frequentemente" onchange="updateProgress()">
              <span class="radio-text">Frequentemente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q3" value="√Äs vezes" onchange="updateProgress()">
              <span class="radio-text">√Äs vezes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q3" value="Raramente" onchange="updateProgress()">
              <span class="radio-text">Raramente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q3" value="Nunca" onchange="updateProgress()">
              <span class="radio-text">Nunca</span>
            </label>
          </div>
        </div>
        <div class="question-group">
          <label class="question-title">4. A empresa considera sugest√µes sobre melhorias ergon√¥micas?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="nr_q4" value="Sempre" onchange="updateProgress()">
              <span class="radio-text">Sempre</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q4" value="Frequentemente" onchange="updateProgress()">
              <span class="radio-text">Frequentemente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q4" value="√Äs vezes" onchange="updateProgress()">
              <span class="radio-text">√Äs vezes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q4" value="Raramente" onchange="updateProgress()">
              <span class="radio-text">Raramente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="nr_q4" value="Nunca" onchange="updateProgress()">
              <span class="radio-text">Nunca</span>
            </label>
          </div>
        </div>
      </div><!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Ferramenta de avalia√ß√£o de riscos psicossociais no ambiente de trabalho">
  <meta name="keywords" content="riscos psicossociais, COPSOQ, HSE, NIOSH, NR-01, NR-17">
  <title>Avalia√ß√£o de Riscos Psicossociais</title>
  <style>
    :root {
      --primary-color: #1565c0;
      --secondary-color: #42a5f5;
      --danger-color: #ef5350;
      --success-color: #4caf50;
      --warning-color: #ff9800;
      --background-gradient: linear-gradient(135deg, #e3f2fd 0%, #ffffff 100%);
      --card-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      --border-radius: 12px;
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--background-gradient);
      min-height: 100vh;
      padding: 20px;
      line-height: 1.6;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      margin-bottom: 30px;
    }

    .header h1 {
      color: var(--primary-color);
      font-size: 2.5rem;
      margin-bottom: 10px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .header p {
      color: #666;
      font-size: 1.1rem;
    }

    .card {
      background: white;
      border-radius: var(--border-radius);
      box-shadow: var(--card-shadow);
      padding: 30px;
      margin-bottom: 20px;
      transition: var(--transition);
    }

    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
    }

    .methodology-selector {
      margin-bottom: 30px;
    }

    .methodology-selector label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      color: var(--primary-color);
    }

    select, button {
      width: 100%;
      padding: 15px;
      border: 2px solid #e0e0e0;
      border-radius: var(--border-radius);
      font-size: 16px;
      transition: var(--transition);
      background: white;
    }

    select:focus, button:focus {
      outline: none;
      border-color: var(--secondary-color);
      box-shadow: 0 0 0 3px rgba(66, 165, 245, 0.2);
    }

    select:hover {
      border-color: var(--secondary-color);
    }

    .questionario {
      display: none;
      animation: fadeIn 0.5s ease-in;
    }

    .questionario.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .questionario h2 {
      color: var(--primary-color);
      margin-bottom: 25px;
      font-size: 1.8rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .question-group {
      margin-bottom: 20px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      border-left: 4px solid var(--secondary-color);
    }

    .question-group label {
      display: block;
      margin-bottom: 10px;
      font-weight: 500;
      color: #333;
    }

    .question-title {
      font-weight: 600;
      font-size: 1.1rem;
      margin-bottom: 15px;
      color: var(--primary-color);
    }

    .radio-group {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 10px;
    }

    .radio-option {
      display: flex;
      align-items: center;
      padding: 12px 15px;
      background: white;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      cursor: pointer;
      transition: var(--transition);
      margin-bottom: 0;
    }

    .radio-option:hover {
      border-color: var(--secondary-color);
      background: #f8f9fa;
      transform: translateX(5px);
    }

    .radio-option input[type="radio"] {
      margin-right: 12px;
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    .radio-option input[type="radio"]:checked + .radio-text {
      color: var(--primary-color);
      font-weight: 600;
    }

    .radio-option:has(input[type="radio"]:checked) {
      border-color: var(--primary-color);
      background: rgba(21, 101, 192, 0.05);
      box-shadow: 0 2px 8px rgba(21, 101, 192, 0.1);
    }

    .radio-text {
      font-size: 16px;
      color: #333;
      flex: 1;
      line-height: 1.4;
    }

    .question-group select {
      margin-top: 5px;
    }

    .btn {
      background: var(--primary-color);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: var(--border-radius);
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .btn:hover {
      background: #0d47a1;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(21, 101, 192, 0.3);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
    }

    #dashboard {
      display: none;
    }

    #dashboard.active {
      display: block;
      animation: fadeIn 0.5s ease-in;
    }

    .dashboard-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .dashboard-header h2 {
      color: var(--primary-color);
      font-size: 2rem;
      margin-bottom: 10px;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .stat-card {
      background: white;
      padding: 20px;
      border-radius: var(--border-radius);
      box-shadow: var(--card-shadow);
      text-align: center;
      border-top: 4px solid var(--secondary-color);
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: bold;
      color: var(--primary-color);
      margin-bottom: 5px;
    }

    .stat-label {
      color: #666;
      font-weight: 500;
    }

    .chart-container {
      position: relative;
      height: 400px;
      margin-top: 20px;
    }

    .recommendations {
      margin-top: 30px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: var(--border-radius);
      border-left: 4px solid var(--warning-color);
    }

    .recommendations h3 {
      color: var(--primary-color);
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .recommendations ul {
      list-style: none;
      padding: 0;
    }

    .recommendations li {
      padding: 10px 0;
      border-bottom: 1px solid #e0e0e0;
    }

    .recommendations li:last-child {
      border-bottom: none;
    }

    .recommendations li::before {
      content: "üí°";
      margin-right: 10px;
    }

    .progress-bar {
      width: 100%;
      height: 10px;
      background: #e0e0e0;
      border-radius: 5px;
      overflow: hidden;
      margin: 20px 0;
    }

    .progress-fill {
      height: 100%;
      background: var(--secondary-color);
      transition: width 0.3s ease;
    }

    .methodology-info {
      margin-top: 15px;
      padding: 15px;
      background: #e3f2fd;
      border-radius: 8px;
      font-size: 0.9rem;
      color: #1565c0;
    }

    .export-btn {
      background: var(--success-color);
      margin-top: 20px;
    }

    .export-btn:hover {
      background: #388e3c;
    }

    .reset-btn {
      background: var(--danger-color);
      margin-left: 10px;
    }

    .reset-btn:hover {
      background: #d32f2f;
    }

    @media (max-width: 768px) {
      .container {
        padding: 0 10px;
      }
      
      .header h1 {
        font-size: 2rem;
      }
      
      .card {
        padding: 20px;
      }
      
      .stats-grid {
        grid-template-columns: 1fr;
      }
      
      .btn {
        padding: 12px 20px;
        font-size: 14px;
      }
      
      .radio-option {
        padding: 10px 12px;
      }
      
      .radio-text {
        font-size: 14px;
      }
      
      .question-title {
        font-size: 1rem;
      }
    }

    @media (max-width: 480px) {
      body {
        padding: 10px;
      }
      
      .header h1 {
        font-size: 1.5rem;
      }
      
      .card {
        padding: 15px;
      }
      
      .radio-option {
        padding: 8px 10px;
      }
      
      .radio-text {
        font-size: 13px;
      }
      
      .question-title {
        font-size: 0.9rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <h1>üß† Avalia√ß√£o de Riscos Psicossociais</h1>
      <p>Ferramenta completa para an√°lise do ambiente de trabalho</p>
    </header>

    <main>
      <div class="card methodology-selector">
        <label for="metodologia">Escolha a metodologia de avalia√ß√£o:</label>
        <select id="metodologia" onchange="mostrarQuestionario()" aria-label="Selecionar metodologia">
          <option value="">-- Selecione uma metodologia --</option>
          <option value="copsoq">üß† COPSOQ III Short - Question√°rio Psicossocial</option>
          <option value="hse">üìä HSE Indicator Tool - Indicadores de Estresse</option>
          <option value="niosh">üè• NIOSH WellBQ - Bem-estar no Trabalho</option>
          <option value="nr">üìã NR-01 e NR-17 - Normas Regulamentadoras</option>
        </select>
        
        <div id="metodologia-info" class="methodology-info" style="display: none;">
          <p id="metodologia-descricao"></p>
        </div>
      </div>

      <div class="progress-bar" id="progress-container" style="display: none;">
        <div class="progress-fill" id="progress-fill"></div>
      </div>

      <div id="copsoq" class="questionario card">
        <h2>üß† COPSOQ III Short</h2>
        <div class="question-group">
          <label class="question-title">1. Seu trabalho exige que voc√™ tome decis√µes dif√≠ceis?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="copsoq_q1" value="Sempre" onchange="updateProgress()">
              <span class="radio-text">Sempre</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="copsoq_q1" value="Frequentemente" onchange="updateProgress()">
              <span class="radio-text">Frequentemente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="copsoq_q1" value="√Äs vezes" onchange="updateProgress()">
              <span class="radio-text">√Äs vezes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="copsoq_q1" value="Raramente" onchange="updateProgress()">
              <span class="radio-text">Raramente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="copsoq_q1" value="Nunca" onchange="updateProgress()">
              <span class="radio-text">Nunca</span>
            </label>
          </div>
        </div>
        <div class="question-group">
          <label class="question-title">2. Voc√™ tem autonomia para decidir como realizar seu trabalho?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="copsoq_q2" value="Muita" onchange="updateProgress()">
              <span class="radio-text">Muita autonomia</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="copsoq_q2" value="Moderada" onchange="updateProgress()">
              <span class="radio-text">Autonomia moderada</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="copsoq_q2" value="Pouca" onchange="updateProgress()">
              <span class="radio-text">Pouca autonomia</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="copsoq_q2" value="Nenhuma" onchange="updateProgress()">
              <span class="radio-text">Nenhuma autonomia</span>
            </label>
          </div>
        </div>
        <div class="question-group">
          <label class="question-title">3. Voc√™ sente apoio dos seus colegas de trabalho?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="copsoq_q3" value="Sempre" onchange="updateProgress()">
              <span class="radio-text">Sempre</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="copsoq_q3" value="Frequentemente" onchange="updateProgress()">
              <span class="radio-text">Frequentemente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="copsoq_q3" value="√Äs vezes" onchange="updateProgress()">
              <span class="radio-text">√Äs vezes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="copsoq_q3" value="Raramente" onchange="updateProgress()">
              <span class="radio-text">Raramente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="copsoq_q3" value="Nunca" onchange="updateProgress()">
              <span class="radio-text">Nunca</span>
            </label>
          </div>
        </div>
        <div class="question-group">
          <label class="question-title">4. Voc√™ consegue separar trabalho e vida pessoal?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="copsoq_q4" value="Sempre" onchange="updateProgress()">
              <span class="radio-text">Sempre</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="copsoq_q4" value="Frequentemente" onchange="updateProgress()">
              <span class="radio-text">Frequentemente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="copsoq_q4" value="√Äs vezes" onchange="updateProgress()">
              <span class="radio-text">√Äs vezes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="copsoq_q4" value="Raramente" onchange="updateProgress()">
              <span class="radio-text">Raramente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="copsoq_q4" value="Nunca" onchange="updateProgress()">
              <span class="radio-text">Nunca</span>
            </label>
          </div>
        </div>
      </div>

      <div id="hse" class="questionario card">
        <h2>üìä HSE Indicator Tool</h2>
        <div class="question-group">
          <label class="question-title">1. Voc√™ compreende claramente o que √© esperado do seu trabalho?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="hse_q1" value="Completamente" onchange="updateProgress()">
              <span class="radio-text">Completamente claro</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q1" value="Muito" onchange="updateProgress()">
              <span class="radio-text">Muito claro</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q1" value="Moderadamente" onchange="updateProgress()">
              <span class="radio-text">Moderadamente claro</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q1" value="Pouco" onchange="updateProgress()">
              <span class="radio-text">Pouco claro</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q1" value="Nada" onchange="updateProgress()">
              <span class="radio-text">Nada claro</span>
            </label>
          </div>
        </div>
        <div class="question-group">
          <label class="question-title">2. Seu volume de trabalho √© adequado?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="hse_q2" value="Muito adequado" onchange="updateProgress()">
              <span class="radio-text">Muito adequado</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q2" value="Adequado" onchange="updateProgress()">
              <span class="radio-text">Adequado</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q2" value="Aceit√°vel" onchange="updateProgress()">
              <span class="radio-text">Aceit√°vel</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q2" value="Excessivo" onchange="updateProgress()">
              <span class="radio-text">Excessivo</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q2" value="Muito excessivo" onchange="updateProgress()">
              <span class="radio-text">Muito excessivo</span>
            </label>
          </div>
        </div>
        <div class="question-group">
          <label class="question-title">3. Seu gestor oferece suporte adequado?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="hse_q3" value="Sempre" onchange="updateProgress()">
              <span class="radio-text">Sempre</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q3" value="Frequentemente" onchange="updateProgress()">
              <span class="radio-text">Frequentemente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q3" value="√Äs vezes" onchange="updateProgress()">
              <span class="radio-text">√Äs vezes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q3" value="Raramente" onchange="updateProgress()">
              <span class="radio-text">Raramente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q3" value="Nunca" onchange="updateProgress()">
              <span class="radio-text">Nunca</span>
            </label>
          </div>
        </div>
        <div class="question-group">
          <label class="question-title">4. H√° clareza de pap√©is e responsabilidades na sua equipe?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="hse_q4" value="Muito clara" onchange="updateProgress()">
              <span class="radio-text">Muito clara</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q4" value="Clara" onchange="updateProgress()">
              <span class="radio-text">Clara</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q4" value="Moderada" onchange="updateProgress()">
              <span class="radio-text">Moderada</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q4" value="Pouco clara" onchange="updateProgress()">
              <span class="radio-text">Pouco clara</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="hse_q4" value="Confusa" onchange="updateProgress()">
              <span class="radio-text">Confusa</span>
            </label>
          </div>
        </div>
      </div>

      <div id="niosh" class="questionario card">
        <h2>üè• NIOSH WellBQ</h2>
        <div class="question-group">
          <label class="question-title">1. Voc√™ se sente valorizado e reconhecido no trabalho?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="niosh_q1" value="Sempre" onchange="updateProgress()">
              <span class="radio-text">Sempre</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q1" value="Frequentemente" onchange="updateProgress()">
              <span class="radio-text">Frequentemente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q1" value="√Äs vezes" onchange="updateProgress()">
              <span class="radio-text">√Äs vezes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q1" value="Raramente" onchange="updateProgress()">
              <span class="radio-text">Raramente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q1" value="Nunca" onchange="updateProgress()">
              <span class="radio-text">Nunca</span>
            </label>
          </div>
        </div>
        <div class="question-group">
          <label class="question-title">2. O ambiente de trabalho √© saud√°vel f√≠sica e emocionalmente?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="niosh_q2" value="Muito saud√°vel" onchange="updateProgress()">
              <span class="radio-text">Muito saud√°vel</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q2" value="Saud√°vel" onchange="updateProgress()">
              <span class="radio-text">Saud√°vel</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q2" value="Neutro" onchange="updateProgress()">
              <span class="radio-text">Neutro</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q2" value="Pouco saud√°vel" onchange="updateProgress()">
              <span class="radio-text">Pouco saud√°vel</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q2" value="Insalubre" onchange="updateProgress()">
              <span class="radio-text">Insalubre</span>
            </label>
          </div>
        </div>
        <div class="question-group">
          <label class="question-title">3. Seu trabalho tem impacto negativo na sua sa√∫de f√≠sica?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="niosh_q3" value="Nunca" onchange="updateProgress()">
              <span class="radio-text">Nunca</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q3" value="Raramente" onchange="updateProgress()">
              <span class="radio-text">Raramente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q3" value="√Äs vezes" onchange="updateProgress()">
              <span class="radio-text">√Äs vezes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q3" value="Frequentemente" onchange="updateProgress()">
              <span class="radio-text">Frequentemente</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q3" value="Sempre" onchange="updateProgress()">
              <span class="radio-text">Sempre</span>
            </label>
          </div>
        </div>
        <div class="question-group">
          <label class="question-title">4. Voc√™ tem acesso a recursos para seu bem-estar no trabalho?</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="niosh_q4" value="Acesso total" onchange="updateProgress()">
              <span class="radio-text">Acesso total</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q4" value="Bom acesso" onchange="updateProgress()">
              <span class="radio-text">Bom acesso</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q4" value="Acesso limitado" onchange="updateProgress()">
              <span class="radio-text">Acesso limitado</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q4" value="Pouco acesso" onchange="updateProgress()">
              <span class="radio-text">Pouco acesso</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="niosh_q4" value="Nenhum acesso" onchange="updateProgress()">
              <span class="radio-text">Nenhum acesso</span>
            </label>
          </div>
        </div>
      </div>

      <div id="nr" class="questionario card">
        <h2>üìã NR-01 e NR-17</h2>
        <div class="question-group">
          <label>1. Seu posto de trabalho √© adequado √†s suas caracter√≠sticas f√≠sicas?</label>
          <select onchange="updateProgress()" aria-label="Resposta pergunta 1">
            <option value="">-- Selecione --</option>
            <option value="Totalmente">Totalmente adequado</option>
            <option value="Muito">Muito adequado</option>
            <option value="Parcialmente">Parcialmente adequado</option>
            <option value="Pouco">Pouco adequado</option>
            <option value="Inadequado">Inadequado</option>
          </select>
        </div>
        <div class="question-group">
          <label>2. H√° pausas suficientes para recupera√ß√£o f√≠sica e mental?</label>
          <select onchange="updateProgress()" aria-label="Resposta pergunta 2">
            <option value="">-- Selecione --</option>
            <option value="Sempre">Sempre suficientes</option>
            <option value="Frequentemente">Frequentemente suficientes</option>
            <option value="√Äs vezes">√Äs vezes suficientes</option>
            <option value="Raramente">Raramente suficientes</option>
            <option value="Nunca">Nunca suficientes</option>
          </select>
        </div>
        <div class="question-group">
          <label>3. Voc√™ recebe orienta√ß√µes claras sobre riscos ocupacionais?</label>
          <select onchange="updateProgress()" aria-label="Resposta pergunta 3">
            <option value="">-- Selecione --</option>
            <option value="Sempre">Sempre</option>
            <option value="Frequentemente">Frequentemente</option>
            <option value="√Äs vezes">√Äs vezes</option>
            <option value="Raramente">Raramente</option>
            <option value="Nunca">Nunca</option>
          </select>
        </div>
        <div class="question-group">
          <label>4. A empresa considera sugest√µes sobre melhorias ergon√¥micas?</label>
          <select onchange="updateProgress()" aria-label="Resposta pergunta 4">
            <option value="">-- Selecione --</option>
            <option value="Sempre">Sempre</option>
            <option value="Frequentemente">Frequentemente</option>
            <option value="√Äs vezes">√Äs vezes</option>
            <option value="Raramente">Raramente</option>
            <option value="Nunca">Nunca</option>
          </select>
        </div>
      </div>

      <button class="btn" onclick="mostrarDashboard()" id="finalizarBtn" disabled>
        Finalizar Avalia√ß√£o
      </button>
    </main>

    <div id="dashboard" class="card">
      <div class="dashboard-header">
        <h2>üìä Resumo da Avalia√ß√£o</h2>
        <p>An√°lise completa dos riscos psicossociais</p>
      </div>

      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number" id="totalQuestions">0</div>
          <div class="stat-label">Total de Quest√µes</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="positiveScore">0</div>
          <div class="stat-label">Pontua√ß√£o Positiva</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="riskLevel">-</div>
          <div class="stat-label">N√≠vel de Risco</div>
        </div>
      </div>

      <div class="chart-container">
        <canvas id="resumoChart"></canvas>
      </div>

      <div class="recommendations">
        <h3>üí° Recomenda√ß√µes</h3>
        <ul id="recommendationsList">
          <!-- Recomenda√ß√µes ser√£o inseridas aqui -->
        </ul>
      </div>

      <div style="text-align: center; margin-top: 30px;">
        <button class="btn export-btn" onclick="exportarRelatorio()">
          üìÑ Exportar Relat√≥rio
        </button>
        <button class="btn reset-btn" onclick="resetarAvaliacao()">
          üîÑ Nova Avalia√ß√£o
        </button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const metodologiaDescricoes = {
      copsoq: "COPSOQ III Short - Question√°rio internacional para avalia√ß√£o de riscos psicossociais, focado em demandas, controle e suporte social.",
      hse: "HSE Indicator Tool - Ferramenta brit√¢nica para identifica√ß√£o de fatores de estresse relacionados ao trabalho.",
      niosh: "NIOSH WellBQ - Question√°rio americano para avalia√ß√£o do bem-estar e sa√∫de mental no trabalho.",
      nr: "NR-01 e NR-17 - Normas Regulamentadoras brasileiras sobre gest√£o de riscos e ergonomia."
    };

    let currentChart = null;

    function mostrarQuestionario() {
      // Ocultar todos os question√°rios
      document.querySelectorAll('.questionario').forEach(q => {
        q.style.display = 'none';
        q.classList.remove('active');
      });
      
      document.getElementById('dashboard').style.display = 'none';
      document.getElementById('dashboard').classList.remove('active');
      
      const escolha = document.getElementById('metodologia').value;
      const infoDiv = document.getElementById('metodologia-info');
      const progressContainer = document.getElementById('progress-container');
      
      if (escolha) {
        const questionario = document.getElementById(escolha);
        questionario.style.display = 'block';
        questionario.classList.add('active');
        
        // Mostrar informa√ß√µes da metodologia
        document.getElementById('metodologia-descricao').textContent = metodologiaDescricoes[escolha];
        infoDiv.style.display = 'block';
        
        // Mostrar barra de progresso
        progressContainer.style.display = 'block';
        
        // Resetar respostas
        questionario.querySelectorAll('input[type="radio"]').forEach(radio => {
          radio.checked = false;
        });
        
        updateProgress();
      } else {
        infoDiv.style.display = 'none';
        progressContainer.style.display = 'none';
      }
    }

    function updateProgress() {
      const activeQuestionario = document.querySelector('.questionario.active');
      if (!activeQuestionario) return;
      
      const radioGroups = activeQuestionario.querySelectorAll('.radio-group');
      const totalQuestions = radioGroups.length;
      let answeredQuestions = 0;
      
      radioGroups.forEach(group => {
        const checkedRadio = group.querySelector('input[type="radio"]:checked');
        if (checkedRadio) {
          answeredQuestions++;
        }
      });
      
      const progress = (answeredQuestions / totalQuestions) * 100;
      document.getElementById('progress-fill').style.width = progress + '%';
      
      const finalizarBtn = document.getElementById('finalizarBtn');
      finalizarBtn.disabled = progress < 100;
    }

    function mostrarDashboard() {
      const activeQuestionario = document.querySelector('.questionario.active');
      if (!activeQuestionario) return;
      
      const radioGroups = activeQuestionario.querySelectorAll('.radio-group');
      const metodologia = document.getElementById('metodologia').value;
      
      // Calcular pontua√ß√µes
      let totalQuestions = radioGroups.length;
      let positiveScore = 0;
      let responses = [];
      
      radioGroups.forEach(group => {
        const checkedRadio = group.querySelector('input[type="radio"]:checked');
        if (checkedRadio) {
          const value = checkedRadio.value;
          responses.push(value);
          // Sistema de pontua√ß√£o baseado na metodologia
          positiveScore += calculateScore(value, metodologia);
        }
      });
      
      // Determinar n√≠vel de risco
      const riskPercentage = (positiveScore / (totalQuestions * 4)) * 100;
      let riskLevel, riskColor;
      
      if (riskPercentage >= 75) {
        riskLevel = 'Baixo';
        riskColor = '#4caf50';
      } else if (riskPercentage >= 50) {
        riskLevel = 'Moderado';
        riskColor = '#ff9800';
      } else {
        riskLevel = 'Alto';
        riskColor = '#ef5350';
      }
      
      // Atualizar estat√≠sticas
      document.getElementById('totalQuestions').textContent = totalQuestions;
      document.getElementById('positiveScore').textContent = positiveScore + '/' + (totalQuestions * 4);
      document.getElementById('riskLevel').textContent = riskLevel;
      document.getElementById('riskLevel').style.color = riskColor;
      
      // Criar gr√°fico
      createChart(responses, metodologia);
      
      // Gerar recomenda√ß√µes
      generateRecommendations(riskLevel, metodologia);
      
      // Mostrar dashboard
      document.getElementById('dashboard').style.display = 'block';
      document.getElementById('dashboard').classList.add('active');
      
      // Scroll para o dashboard
      document.getElementById('dashboard').scrollIntoView({ behavior: 'smooth' });
    }

    function calculateScore(value, metodologia) {
      // Sistema de pontua√ß√£o baseado na resposta
      const positiveValues = ['Sempre', 'Frequentemente', 'Muito', 'Totalmente', 'Completamente', 'Muito adequado', 'Adequado', 'Muito saud√°vel', 'Saud√°vel', 'Acesso total', 'Bom acesso', 'Muito clara', 'Clara'];
      const moderateValues = ['√Äs vezes', 'Moderadamente', 'Moderada', 'Parcialmente', 'Aceit√°vel', 'Neutro', 'Acesso limitado'];
      const negativeValues = ['Raramente', 'Nunca', 'Pouco', 'Nenhuma', 'Inadequado', 'Excessivo', 'Muito excessivo', 'Pouco clara', 'Confusa', 'Insalubre', 'Pouco saud√°vel', 'Pouco acesso', 'Nenhum acesso'];
      
      if (positiveValues.includes(value)) return 4;
      if (moderateValues.includes(value)) return 2;
      if (negativeValues.includes(value)) return 1;
      return 0;
    }

    function createChart(responses, metodologia) {
      const ctx = document.getElementById('resumoChart').getContext('2d');
      
      if (currentChart) {
        currentChart.destroy();
      }
      
      // Categorizar respostas
      const categories = {
        'Positivas': 0,
        'Moderadas': 0,
        'Negativas': 0
      };
      
      responses.forEach(response => {
        const score = calculateScore(response, metodologia);
        if (score >= 4) categories['Positivas']++;
        else if (score >= 2) categories['Moderadas']++;
        else categories['Negativas']++;
      });
      
      currentChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: Object.keys(categories),
          datasets: [{
            label: 'Respostas',
            data: Object.values(categories),
            backgroundColor: ['#4caf50', '#ff9800', '#ef5350'],
            borderWidth: 2,
            borderColor: '#fff'
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            title: {
              display: true,
              text: 'Distribui√ß√£o das Respostas',
              font: {
                size: 16,
                weight: 'bold'
              }
            },
            legend: {
              position: 'bottom',
              labels: {
                padding: 20,
                usePointStyle: true
              }
            }
          }
        }
      });
    }

    function generateRecommendations(riskLevel, metodologia) {
      const recommendations = {
        'Baixo': [
          'Manter as pr√°ticas atuais que est√£o funcionando bem',
          'Considerar ser um exemplo para outras equipes',
          'Continuar monitorando o ambiente de trabalho regularmente',
          'Buscar oportunidades de melhoria cont√≠nua'
        ],
        'Moderado': [
          'Implementar melhorias nos pontos identificados como problem√°ticos',
          'Realizar treinamentos espec√≠ficos para gestores',
          'Criar canais de comunica√ß√£o mais efetivos',
          'Estabelecer programas de bem-estar no trabalho',
          'Revisar processos e procedimentos existentes'
        ],
        'Alto': [
          'A√ß√£o imediata necess√°ria para reduzir riscos psicossociais',
          'Consultar especialistas em sa√∫de ocupacional',
          'Implementar programa de gest√£o de estresse',
          'Revisar completamente a organiza√ß√£o do trabalho',
          'Estabelecer suporte psicol√≥gico para funcion√°rios',
          'Criar comit√™ de sa√∫de mental no trabalho'
        ]
      };

      const metodologiaRecommendations = {
        'copsoq': [
          'Revisar demandas de trabalho e autonomia dos funcion√°rios',
          'Fortalecer o suporte social entre colegas',
          'Melhorar o equil√≠brio trabalho-vida pessoal'
        ],
        'hse': [
          'Clarificar pap√©is e responsabilidades',
          'Ajustar cargas de trabalho',
          'Melhorar suporte gerencial'
        ],
        'niosh': [
          'Implementar programas de reconhecimento',
          'Melhorar condi√ß√µes f√≠sicas do ambiente',
          'Oferecer recursos de bem-estar'
        ],
        'nr': [
          'Ajustar ergonomia dos postos de trabalho',
          'Implementar pausas regulares',
          'Melhorar treinamentos sobre seguran√ßa'
        ]
      };

      const lista = document.getElementById('recommendationsList');
      lista.innerHTML = '';

      // Adicionar recomenda√ß√µes gerais
      recommendations[riskLevel].forEach(rec => {
        const li = document.createElement('li');
        li.textContent = rec;
        lista.appendChild(li);
      });

      // Adicionar recomenda√ß√µes espec√≠ficas da metodologia
      metodologiaRecommendations[metodologia].forEach(rec => {
        const li = document.createElement('li');
        li.textContent = rec;
        lista.appendChild(li);
      });
    }

    function exportarRelatorio() {
      const activeQuestionario = document.querySelector('.questionario.active');
      const metodologia = document.getElementById('metodologia').value;
      const metodologiaNome = document.getElementById('metodologia').selectedOptions[0].text;
      
      // Coletar dados do relat√≥rio
      const relatorio = {
        data: new Date().toLocaleDateString('pt-BR'),
        metodologia: metodologiaNome,
        totalQuestoes: document.getElementById('totalQuestions').textContent,
        pontuacao: document.getElementById('positiveScore').textContent,
        nivelRisco: document.getElementById('riskLevel').textContent,
        recomendacoes: Array.from(document.querySelectorAll('#recommendationsList li')).map(li => li.textContent)
      };

      // Criar conte√∫do do relat√≥rio
      let conteudo = `RELAT√ìRIO DE AVALIA√á√ÉO DE RISCOS PSICOSSOCIAIS\n`;
      conteudo += `=================================================\n\n`;
      conteudo += `Data da Avalia√ß√£o: ${relatorio.data}\n`;
      conteudo += `Metodologia: ${relatorio.metodologia}\n`;
      conteudo += `Total de Quest√µes: ${relatorio.totalQuestoes}\n`;
      conteudo += `Pontua√ß√£o: ${relatorio.pontuacao}\n`;
      conteudo += `N√≠vel de Risco: ${relatorio.nivelRisco}\n\n`;
      conteudo += `RECOMENDA√á√ïES:\n`;
      conteudo += `==============\n`;
      relatorio.recomendacoes.forEach((rec, index) => {
        conteudo += `${index + 1}. ${rec}\n`;
      });
      conteudo += `\n\nRelat√≥rio gerado automaticamente pela ferramenta de Avalia√ß√£o de Riscos Psicossociais.`;

      // Criar e baixar arquivo
      const blob = new Blob([conteudo], { type: 'text/plain;charset=utf-8' });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = `relatorio_riscos_psicossociais_${new Date().toISOString().split('T')[0]}.txt`;
      link.click();
    }

    function resetarAvaliacao() {
      if (confirm('Tem certeza que deseja iniciar uma nova avalia√ß√£o? Todos os dados atuais ser√£o perdidos.')) {
        // Resetar sele√ß√£o de metodologia
        document.getElementById('metodologia').selectedIndex = 0;
        
        // Ocultar todos os elementos
        document.querySelectorAll('.questionario').forEach(q => {
          q.style.display = 'none';
          q.classList.remove('active');
        });
        
        document.getElementById('dashboard').style.display = 'none';
        document.getElementById('dashboard').classList.remove('active');
        document.getElementById('metodologia-info').style.display = 'none';
        document.getElementById('progress-container').style.display = 'none';
        
        // Resetar bot√£o
        document.getElementById('finalizarBtn').disabled = true;
        
        // Destruir gr√°fico se existir
        if (currentChart) {
          currentChart.destroy();
          currentChart = null;
        }
        
        // Scroll para o topo
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    // Inicializa√ß√£o
    document.addEventListener('DOMContentLoaded', function() {
      // Adicionar event listeners para melhor acessibilidade
      document.getElementById('metodologia').addEventListener('change', mostrarQuestionario);
      
      // Adicionar suporte para teclas de atalho
      document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.key === 'Enter') {
          const btn = document.getElementById('finalizarBtn');
          if (!btn.disabled) {
            mostrarDashboard();
          }
        }
      });
    });
  </script>
</body>
</html>
